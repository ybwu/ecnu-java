<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title></title>
  <style type="text/css">code{white-space: pre;}</style>
  <style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
  </style>
  <link rel="stylesheet" href="../../../css/github.css" type="text/css" />
</head>
<body>
<h1 id="project-1-第一个-java-程序">Project 1 第一个 Java 程序</h1>
<h2 id="概述">概述</h2>
<p>这个 Project 中你将动手搭建 Java 的编译和运行环境. 同时将编写第一个 Java 程序. 在实验内容中, 你会和这个程序做一些互动. 将看到第一个 Java 编译错误, 第一个 Java 运行时错误以及第一个Bug. 对这些 Java 程序和实验结果你一定会有很多疑惑和问题. 可以尝试自己查资料解决, 也可以把它们记录下来. 在今后的课程中, 我们会逐步找到这些问题的答案. 无论如何, 现在最值得庆祝的是你已经能用 Java 输出那句振奋人心的话: Hello world!</p>
<h2 id="安装-java-环境">安装 Java 环境</h2>
<p>我们将使用命令 <code>javac</code> 来编译 Java 程序, 用命令<code>java</code> 运行编译好的 Java 程序. 这两个命令包含在 JDK (Java Development Kit) 中. JDK 有不同的实现, 其中比较常见的是 <a href="http://www.oracle.com/technetwork/java/javase/overview/index.html">Oracle JDK</a> 和 <a href="openjdk.java.net/">OpenJDK</a>.</p>
<h3 id="winodws-oracle-jdk">Winodws + Oracle JDK</h3>
<h4 id="下载及安装">下载及安装</h4>
<ol style="list-style-type: decimal">
<li>进入 <a href="http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html">Oracle JDK 下载页面</a></li>
<li>下载 Java SE Development Kit. 目前有8u74和8u73两版本, 可选择其中任意一个.</li>
<li>选择 Windows 对应的文件下载. 注意其中又分为 x86 和 x64 两种. 若你的机器是32位则选择 x86, 若是64位则选择 x64. 下载前需勾选 Accept License Agreement.</li>
<li>打开所下载的 JDK 安装文件, 根据指示设置好安装路径(任意路径, 之后的环境变量配置需用到)进行安装.</li>
</ol>
<h4 id="设置环境变量-windows-7">设置环境变量 (Windows 7)</h4>
<p>安装 JDK 之后可能仍然不能编译 Java 程序. 需要设置的<strong>环境变量</strong>. 环境变量可以简单的理解为一种&quot;全局变量&quot;. 运行在 Windows 下的任何程序可以通过 Windows 提供的函数访问这些变量. 在这里需要通过设置三个环境变量: <code>JAVA_HOME, classpath, path</code> 来完成 Java 环境的搭建.</p>
<ol style="list-style-type: decimal">
<li>右击&quot;我的电脑&quot;, 点击&quot;属性&quot;, 选择&quot;高级系统变量&quot;, 打开系统属性页面.</li>
<li>点击右下方的&quot;环境变量&quot;选项.</li>
<li>在&quot;系统变量&quot;下, 新建变量名为 <code>JAVA_HOME</code> 的变量. 变量值为 jdk 安装时指定的安装目录, 比如 <code>D:\Java\jdk1.8.0_20</code>.</li>
<li><p>仍在&quot;系统变量&quot;下, 新建名为 <code>classpath</code> 的变量, 变量值为</p>
<pre><code>.;%JAVA_HOME%\lib;%JAVA_HOME%\lib\tools.jar</code></pre>
<p>注意: 第一个分号前有一个点号&quot;<strong>.</strong>&quot;. Java 在编译和运行时往往依赖一些特定的&quot;库&quot;文件(类似于 C 语言中的 <code>stdio.h</code> 等). 这些库文件被放在磁盘上的特定位置 (这里就是JDK在安装时指定的路径). 环境变量 <code>classpath</code> 的作用在于告诉 Java 这些库文件所在的位置. 在设置了这个变量之后, 编译和运行 Java 程序就可以通过访问 <code>classpath</code> 找到相应的&quot;库&quot;. 以上的变量设置具体解释如下:</p>
<ul>
<li>指定了三个可能存放&quot;库&quot;函数的目录: <code>.</code>, <code>%JAVA_HOME%\lib</code> 以及 <code>%JAVA_HOME%\lib\tools.jar</code>. 它们用分号&quot;;&quot;隔开.</li>
<li>表达式 <code>%JAVA_HOME%</code> 表示取环境变量 <code>JAVA_HOME</code> 的值. 根据之前的设置, 它的值为 <code>D:\Java\jdk1.8.0_20</code>. 因此, <code>%JAVA_HOME%\lib</code> 实际就是 <code>D:\Java\jdk1.8.0_20\lib</code>. 对<code>%JAVA_HOME%\lib\tools.jar</code>同理.</li>
<li>点号 <code>.</code> 有一个固定含义: 表示程序运行的目录.</li>
<li>这个环境变量的含义是&quot;在每一个Java程序编译和运行时, 到<code>D:\Java\jdk1.8.0_20\lib</code>, <code>D:\Java\jdk1.8.0_20\lib\tools.jar</code>, 以及程序所在的目录中查找相应的库函数&quot;.</li>
</ul></li>
<li><p>仍在系统变量下, 找到 <code>path</code> 变量进行编辑. 在变量值末尾添加</p>
<pre><code>;%JAVA_HOME%\bin;%JAVA_HOME%\jre\bin </code></pre>
<p><code>path</code> 变量是为了帮助系统能够找到已经安装好的 <code>javac</code> 和 <code>java</code> 命令. 与 <code>classpath</code> 变量类似, 系统在运行一个命令时, 需要知道这个命令的二进制文件所在的位置. 通过在<code>path</code>后添加这两个目录, 当系统直接运行 <code>javac</code> 或 <code>java</code> 时就能在指定位置找到这两个命令.</p></li>
<li><p>完成上述配置后, 可检测是否配置成功: 在开始菜单中打开 <code>cmd</code>, 进入命令行, 分别输入 <code>java</code> 和 <code>javac</code> 进行测试.</p></li>
</ol>
<h3 id="linux-openjdk">Linux + OpenJDK</h3>
<p>在 Linux 上安装 JDK 同样比较容易. 这里将以 Ubuntu 为例, 其他发行版本请查阅相关文档. 在终端下执行 <code>javac</code> 与 <code>java</code>, 确认是否已经安装 JDK. 若否, 则执行如下两条命令进行安装:</p>
<pre class="shell"><code>sudo apt-get update
sudo apt-get install openjdk-8-jdk</code></pre>
<h2 id="第一个程序-helloworld.java">第一个程序 HelloWorld.java</h2>
<p>完成你的第一个 Java 程序需要三个步骤: 编写源代码, 编译, 运行. 下面以 Windows 为例.</p>
<h3 id="编写源码">编写源码</h3>
<ol style="list-style-type: decimal">
<li><p>打开一个文本编辑器 (例如记事本), 写入下面的程序</p>
<div class="sourceCode"><pre class="sourceCode java"><code class="sourceCode java"><span class="kw">public</span> <span class="kw">class</span> HelloWorld {
    <span class="kw">public</span> <span class="dt">static</span> <span class="dt">void</span> <span class="fu">main</span> (String args[]) {
        System.<span class="fu">out</span>.<span class="fu">println</span>(<span class="st">&quot;Hello World!&quot;</span>);
    }
}</code></pre></div></li>
<li><p>将其保存为HelloWorld.java. 假设保存路径为&quot;D:\HelloWorld\&quot;</p></li>
</ol>
<h3 id="编译">编译</h3>
<ol style="list-style-type: decimal">
<li><p>打开 <code>cmd</code>, 进入 HelloWorld.java 所在的目录</p>
<pre class="shell"><code>cd D:\HelloWorld\</code></pre></li>
<li><p>输入以下命令进行编译</p>
<pre class="shell"><code>javac HelloWorld.java</code></pre></li>
<li><p>若编译错误, 将会输出<strong>编译错误信息</strong>. 若编译成功, 则没有信息输出, 同时生成一个 HelloWorld.class 文件 ( .class 文件为编译好的 Java ByteCode, 执行时由 Java 虚拟机执行其中代码).</p></li>
</ol>
<h3 id="运行">运行</h3>
<ol style="list-style-type: decimal">
<li><p>打开 <code>cmd</code>, 进入 HelloWorld.java 所在的目录</p>
<pre class="shell"><code>cd D:\HelloWorld\</code></pre></li>
<li><p>输入以下命令运行程序</p>
<pre class="shell"><code>java HelloWorld</code></pre></li>
<li><p>若运行正确, 将在屏幕输出 <code>Hello World!</code>. 否则将输出<strong>运行错误信息</strong>.</p></li>
</ol>
<h3 id="说明">说明</h3>
<ul>
<li>Linux 步骤. 基本与上述步骤相同.
<ol style="list-style-type: decimal">
<li>编写源码: 可以使用任意文本编辑器(如gedit). 假设文件 HelloWorld.java 保存在目录 <code>~/HelloWorld/</code>.</li>
<li><p>编译: 打开终端, 执行以下两条命令</p>
<pre class="shell"><code>cd ~/HelloWorld
javac HelloWorld.java</code></pre></li>
<li><p>运行: 打开终端, 执行以下两条命令</p>
<pre class="shell"><code>cd ~/HelloWorld
java HelloWorld</code></pre></li>
</ol></li>
<li>文本编辑器. 程序源代码在编译之前和普通文本文件没有区别(比如一段诗歌, 一篇小说), 都可以看成字符串. 因此可以选用任何你喜欢的文本编辑器来编写程序 (我们鼓励使用文本编辑器来完成所有的实验项目). 但有一些编辑器更适合编写源代码. 以下我们推荐一些编辑器.
<ul>
<li>Windows: <a href="https://www.sublimetext.com/">Sublime Text</a>, <a href="https://notepad-plus-plus.org/">Notepad++</a>.</li>
<li>Linux: <a href="https://www.sublimetext.com/">Sublime Text</a>, Vim, Emacs. (Ubuntu 可以用apt install 安装).</li>
</ul></li>
<li>集成开发环境 (Integrated Development Environment, IDE). 虽然文本编辑器可以胜任这门课程所有的实验, 对于一些规模较大的项目, 使用功能更为强大的集成开发环境能够帮助你事半功倍. 开源社区中有许多优秀的 Java 集成开发环境, 我们推荐下面两个:
<ul>
<li><a href="https://eclipse.org/">Eclipse</a></li>
<li><a href="https://www.jetbrains.com/idea/">Intellij</a></li>
</ul></li>
</ul>
<h2 id="实验内容">实验内容</h2>
<ol style="list-style-type: decimal">
<li>创建 HelloWorld.java, 编译并执行.</li>
<li>分别删除第一行的 public, 第二行的 public, static, void, args, String 分别会发生什么?</li>
<li>如果错误的拼写了 public, static, void, args, String 分别会发生什么?</li>
<li>如果错误的拼写了 System, out, println 分别会发生什么?</li>
<li>将第二行替换成为 <code class="sourceCode java"><span class="kw">public</span> <span class="dt">static</span> <span class="dt">void</span> <span class="fu">main</span>()</code> 会发生什么?</li>
<li>将文件重命名为 HalloWorld.java 会发生什么?</li>
<li>将 HelloWorld.java 中的每个空格替换为两个空格, 每行间增加一些空行, 删除每行前的空格分别会发生什么?</li>
<li><p>编写程序 Hi.java</p>
<div class="sourceCode"><pre class="sourceCode java"><code class="sourceCode java"><span class="kw">public</span> <span class="kw">class</span> Hi {
    <span class="kw">public</span> <span class="dt">static</span> <span class="dt">void</span> <span class="fu">main</span>(String[] args) {
        System.<span class="fu">out</span>.<span class="fu">print</span>(<span class="st">&quot;Hi, &quot;</span>);
        System.<span class="fu">out</span>.<span class="fu">print</span>(args[<span class="dv">0</span>]);
        System.<span class="fu">out</span>.<span class="fu">println</span>(<span class="st">&quot;. How are you?&quot;</span>);
    }
}</code></pre></div>
<p>执行以下命令分别会发生什么? 你能理解 args 的含义吗?</p>
<pre class="shell"><code>java Hi
java Hi @#$%
java Hi 1024
java Hi Bob
java Hi.java Bob
java Hi.class Bob
java Hi Alice Bob</code></pre>
<p>修改以上程序, 使它能够接收3个命令行参数, 并倒序输出它们. 比如执行 <code class="shell">java Hi Alice Bob Carol</code>, 输出 <code>Hi Carol, Bob, Alice.</code>.</p></li>
<li><p>编写程序输出10次 &quot;Hello World!&quot;.</p></li>
</ol>
</body>
</html>
